<section>
    <div class="banner-wrapper">
        <div class="slide-text" id="text1"><p>Members: Free Shipping!</p></div>
        <div class="slide-text" id="text2"><p>Save Up to 40%</p></div>
        <div class="slide-text" id="text3"><p>Get Your Gear Faster</p></div>
    </div>
</section>
<style>
     .banner-wrapper{
        background: {{ section.settings.background }};
        color: {{ section.settings.text_color }};
    }

    .slide-text{
        position: absolute;
        top: 150px;
        left: -150%;
        transform: transform(0, -50%);
        color: black;
        padding: 20px;
        font-size: 20px;
        font-weight: bold;
        transition: left 0.5s ease-in-out;
    }
</style>


<script>
    document.addEventListener('DOMContentLoaded', function(){

    const text1 = document.getElementById('text1');
    const text2 = document.getElementById('text2');
    const text3 = document.getElementById('text3');

    const texts = [text1, text2, text3]
    let currentIndex = 0

    function slideToMiddle(element){

    element.style.left= '40%'

    }

    function resetPosition(element){

    element.style.left = "-100%"

    }

    function slideText(){
        resetPosition(texts[currentIndex]);

        currentIndex = (currentIndex + 1) % texts.length
        slideToMiddle(texts[currentIndex]);
    }

    slideToMiddle(texts[currentIndex]);

    setInterval(slideText, 3000);

    })
</script>

{% schema %}
    {
        "name": "Banner",
        "settings": [
            {
            "type": "color",
            "id": "background",
            "label": "Background",
            "default": "#F4F4F4"
        },
        {
            "type": "color",
            "id": "text_color",
            "label": "Text",
            "default": "#000000"
        }
        ],
        "presets": [
            {
                "name": "banner"
            }
        ]
    }
{% endschema %}